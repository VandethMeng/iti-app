# School MIS API Testing Commands

## Prerequisites
- Backend running on http://localhost:8080
- MongoDB Compass connected

## Test 1: Register User
curl.exe -X POST http://localhost:8080/api/auth/register ^
  -H "Content-Type: application/json" ^
  -d "{\"email\":\"john@example.com\",\"password\":\"Password123\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"phoneNumber\":\"+1234567890\",\"address\":\"123 Main St\",\"role\":\"STUDENT\"}"

# Expected Response (Status 201):
# {
#   "id": "65a1b2c3...",
#   "email": "john@example.com",
#   "firstName": "John",
#   "lastName": "Doe",
#   ...
# }

## Test 2: Login
curl.exe -X POST http://localhost:8080/api/auth/login ^
  -H "Content-Type: application/json" ^
  -d "{\"email\":\"john@example.com\",\"password\":\"Password123\"}"

# Expected Response (Status 200):
# {
#   "accessToken": "eyJhbGciOiJIUzUxMiJ9...",
#   "refreshToken": "eyJhbGciOiJIUzUxMiJ9...",
#   "tokenType": "Bearer",
#   "expiresIn": 86400000,
#   "user": { ... }
# }

# SAVE THE accessToken FOR NEXT TESTS!

## Test 3: Get Current User
# Replace YOUR_TOKEN_HERE with actual token from login
curl.exe -X GET http://localhost:8080/api/auth/me ^
  -H "Authorization: Bearer YOUR_TOKEN_HERE"

## Test 4: Create Student Profile
# Replace YOUR_TOKEN_HERE with actual token
# Replace YOUR_USER_ID with user id from registration
curl.exe -X POST http://localhost:8080/api/students ^
  -H "Authorization: Bearer YOUR_TOKEN_HERE" ^
  -H "Content-Type: application/json" ^
  -d "{\"userId\":\"YOUR_USER_ID\",\"studentId\":\"STU001\",\"dateOfBirth\":\"2000-01-15\",\"gender\":\"Male\",\"parentName\":\"Jane Doe\",\"parentPhone\":\"+0987654321\",\"parentEmail\":\"parent@example.com\"}"

## Test 5: Create Course
curl.exe -X POST http://localhost:8080/api/courses ^
  -H "Authorization: Bearer YOUR_TOKEN_HERE" ^
  -H "Content-Type: application/json" ^
  -d "{\"courseCode\":\"MATH101\",\"courseName\":\"Calculus I\",\"description\":\"Introduction to Calculus\",\"level\":\"Level 1\",\"creditHours\":3,\"department\":\"Mathematics\",\"maxCapacity\":50,\"semester\":\"Fall 2024\"}"

## Test 6: Get All Courses
curl.exe -X GET "http://localhost:8080/api/courses/level/Level 1" ^
  -H "Authorization: Bearer YOUR_TOKEN_HERE"

## Notes:
- All POST requests need Content-Type: application/json header
- Protected endpoints need Authorization: Bearer TOKEN header
- Check MongoDB Compass after each request to see data

